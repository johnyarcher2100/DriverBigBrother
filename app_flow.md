# App Flow Document - 運將大哥

## 簡介 (Introduction)

「運將大哥」是一個叫車平台，連接一般用戶與附近的司機。應用程式設計提供流暢體驗，後端採用Supabase強大支持，並利用PostgreSQL和PostGIS處理地理空間功能。系統透過即時訂閱更新行程狀態和司機位置，同時整合Google Maps進行路線規劃、即時交通分析和準確的到達時間估算。整體目標是簡化叫車流程，同時確保駕駛和乘客的安全與便利，使用日常語言和清晰、友善的用戶界面。

## 引導與註冊/登入 (Onboarding and Sign-In/Sign-Up)

當新用戶打開應用程式時，會看到乾淨且吸引人的著陸頁面，清楚展示註冊和登入選項。對首次使用者而言，註冊過程包括輸入基本個人資料和使用認證碼進行手機號碼驗證。應用程式透過逐步引導用戶完成註冊表單，使此過程簡單明了。現有用戶可以使用憑證輕鬆登入。系統提供簡單的密碼恢復選項，並提供找回遺失或忘記密碼的指示。設計還考慮了必要的安全檢查，使用額外的驗證方法如驗證碼，確保用戶資料從一開始就保持完整性。

## 主儀表板或首頁 (Main Dashboard or Home Page)

登入後，用戶被引導至主儀表板，作為應用程式內所有活動的中心樞紐。首頁乾淨直觀，頂部有清晰的導航選項，側邊欄讓用戶輕鬆訪問個人資料、行程歷史和設置。頁面中央顯示由Google Maps提供的地圖整合，顯示用戶當前位置及附近可用司機。儀表板提供通知、當前行程狀態和即將進行或歷史行程的快速瀏覽。直觀的設計使用戶能夠從儀表板快速轉到關鍵功能，如輸入目的地、查看行程詳情或檢查與司機之間的通訊。

## 詳細功能流程和頁面轉換 (Detailed Feature Flows and Page Transitions)

當乘客想要預訂行程時，他們從儀表板開始，在專用欄位輸入目的地。輸入後，應用程式連接Google Maps生成最佳路線並顯示即時交通資訊。系統然後使用當前位置和其他地理位置數據即時匹配乘客與附近司機。一旦發起行程請求，頁面轉換至確認畫面，乘客可以查看路線、預計到達時間和費用計算詳情。此畫面清楚顯示行程狀態，從等待司機到接受、進行中，最後完成。若乘客希望分享行程，可使用安全分享功能發送詳情給信任的聯絡人。

同時，司機體驗類似的流程，應用程式持續更新他們的位置，顯示收到的行程請求，並允許他們切換可用和忙碌狀態。當司機接受行程，應用程式向乘客設備發送即時通知，同步兩端的行程詳情。行程結束時，系統根據距離、時間和需求自動計算費用，並整合多種當地支付選項如Line Pay、StreetPay和信用卡。整個行程中，司機和乘客透過內建訊息系統無縫交流，確保雙方都獲得資訊，所有頁面轉換都順利進行。

## 設置和帳戶管理 (Settings and Account Management)

用戶可以從主儀表板訪問設置部分，在此管理個人資訊如姓名、電話號碼和頭像。在此部分，用戶還可以更新通知和可見性偏好。若需添加或更新支付方式，應用程式提供清晰的支付配置區域，用戶按照簡單指示連結偏好的支付提供商。安全設置也在此管理，讓用戶查看帳戶加密詳情和其他隱私增強功能。進行任何更改後，用戶順暢地回到主儀表板，確保帳戶管理感覺與整體應用體驗連貫。

## 錯誤狀態和替代路徑 (Error States and Alternate Paths)

若用戶在註冊或登入過程中輸入不正確或無效數據，應用程式立即顯示清晰簡單的錯誤訊息，解釋問題並如何修正。若網絡或服務器中斷，系統呈現友好的備用頁面，告知用戶連接問題並提供重試選項。行程請求中，若附近無可用司機，應用程式順暢傳達此訊息並建議乘客稍後再試。應用程式還處理實時更新可能延遲的情況，通知用戶並進入安全狀態，保存數據直到恢復連接。每個錯誤訊息設計為清晰非技術性，讓用戶理解發生了什麼，並能在問題解決後輕鬆恢復旅程。

## 結論和整體應用旅程 (Conclusion and Overall App Journey)

從新用戶打開應用程式看到歡迎著陸頁面，通過直接的註冊和登入過程，每一步設計都簡單直接。一旦進入主儀表板，用戶可以通過輸入目的地並獲取動態路線資訊和即時司機更新，快速請求行程。無論用戶是乘客還是司機，應用程式在各種狀態間順暢轉換，從匹配、行程進行到支付完成。設置允許輕鬆管理個人數據，並為任何錯誤狀態提供清晰指示。整體而言，旅程直觀安全，確保每一次互動—從註冊到行程完成—都以可靠且用戶友好的方式整合。
